name: Exibir informaÃ§Ãµes da Issue

on:
  issues:
    types: [opened, edited]

jobs:
  mostrar-info:
    runs-on: ubuntu-latest
    env:
      NOME_ARQUIVO: issue_data.json
    steps:
      - name: Exibir nÃºmero e labels da issue
        run: |
          echo "NÃºmero da issue: ${{ github.event.issue.number }}"
          echo "Labels: ${{ toJson(github.event.issue.labels) }}"
      - name: Converter issue para JSON
        uses: zentered/issue-forms-body-parser@v2.0.0
        id: parse
      - name: Salvar dados da issue em um arquivo
        run: |
          echo '${{ steps.parse.outputs.data }}' > $NOME_ARQUIVO
          cat $NOME_ARQUIVO
  #abstrair para adicionar_evento.py
      - name: Verificar se a issue tem a label 'evento:adicionar'
        if: contains(join(github.event.issue.labels.*.name, ','), 'ğŸ—“ï¸ evento:adicionar')
        run: |
          echo "A issue contÃ©m a label 'evento:adicionar'."
          python3 ../script/add_evento.py ${NOME_ARQUIVO}
          # Adicione aqui o cÃ³digo para processar a issue conforme necessÃ¡rio

      - name: Verificar se a issue NÃƒO tem a label 'evento:adicionar'
        if: ${{ !contains(join(github.event.issue.labels.*.name, ','), 'ğŸ—“ï¸ evento:adicionar') }}
        run: |
          echo "A issue nÃ£o contÃ©m a label 'evento:adicionar'."
          echo "JSON da issue: ${{ toJson(steps.parse.outputs.data) }}"
          # Adicione aqui o cÃ³digo para processar a issue conforme necessÃ¡rio
